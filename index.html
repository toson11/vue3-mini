<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <script src="./core/effect.js"></script>
  <script src="./core/reactive.js"></script>
</head>
<body>
  <script>
    const state = reactive({ count: 0, name: '', showCount: true });

    effect(() => {
      // console.log("Count is:", state.count);

      // æ­¤å¤„æ¼”ç¤ºå“åº”å¼ç³»ç»Ÿä¸­é€’å½’è§¦å‘ effect çš„é—®é¢˜ï¼š
      // åœ¨ effect å†…éƒ¨ä¿®æ”¹ä¾èµ–æ•°æ®ï¼ˆstate.countï¼‰ï¼Œä¼šå¯¼è‡´ effect ä¸æ–­é‡æ–°æ‰§è¡Œï¼Œå½¢æˆæ— é™å¾ªç¯ã€‚
      // state.count++

      // è§£å†³æ¡ä»¶åˆ¤æ–­ä¾èµ–æ”¶é›†é—®é¢˜ï¼Œæ²¡æœ‰æ»¡è¶³æ¡ä»¶çš„åˆ†æ”¯ï¼Œä¸åº”è¯¥è§¦å‘ effect
      // å½“ state.showCount ä¸º false æ—¶ï¼Œstate.count ä¸å‚ä¸è®¡ç®—ï¼Œä¸åº”è¯¥é‡æ–°è§¦å‘effect
      state.name = 'åç§°' + (state.showCount ? `(${state.count})` : '');
      console.log("ğŸš€ ~ state.name:", state.name)
    });
    
    state.showCount = false;
    state.count++;
  </script>

  </script>
</body>
</html>